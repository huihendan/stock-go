#!/bin/bash

# 新回测引擎测试运行脚本
# 基于时间流逝的回测引擎，严格资金管理
# 默认配置：50%单仓位，最多2只持仓

cd "$(dirname "$0")"

echo "========================================="
echo "运行基于时间流逝的回测引擎测试"
echo "========================================="
echo "默认配置："
echo "  - 最大持仓数: 2只票票"
echo "  - 每仓位资金: 50%"
echo "  - 理论最大资金使用: 100%"
echo "========================================="
echo ""

go test -count=1 -v -run "TestTimeBasedBacktestEngine$" ./tradeTest

echo ""
echo "========================================="
echo "提示："
echo "1. 本测试模拟真实时间流逝"
echo "2. 使用50%仓位，适合信号较少的策略"
echo "3. 每次运行使用随机选择的票票数据"
echo "4. 回测时间约2016-2025年，近10年数据"
echo "5. 如需调整仓位，请修改测试文件参数"
echo "========================================="
